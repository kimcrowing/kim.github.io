<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Rules | Clash</title>
    <meta name="description" content="Rule-based Tunnel">
    <link rel="preload stylesheet" href="../assets/style.392f1afd.css" as="style">
    <script type="module" src="../assets/app.0d5c9eac.js"></script>
    <link rel="preload" href="../assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="../assets/chunks/framework.8fe7dc8a.js">
  <link rel="modulepreload" href="../assets/chunks/theme.eaf0d533.js">
  <link rel="modulepreload" href="../assets/configuration_rules.md.ac7f7db4.lean.js">
  <link rel="icon" type="image/x-icon" href="../logo.png">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-1e6218f4><!--[--><!--]--><!--[--><span tabindex="-1" data-v-16c62844></span><a href="rules.html#VPContent" class="VPSkipLink visually-hidden" data-v-16c62844> Skip to content </a><!--]--><!----><header class="VPNav" data-v-1e6218f4 data-v-06711009><div class="VPNavBar has-sidebar" data-v-06711009 data-v-18ec50a8><div class="container" data-v-18ec50a8><div class="title" data-v-18ec50a8><div class="VPNavBarTitle has-sidebar" data-v-18ec50a8 data-v-fef48de8><a class="title" href="../clash.html" data-v-fef48de8><!--[--><!--]--><!--[--><img class="VPImage logo" src="../logo.png" alt data-v-92df3e28><!--]--><!--[-->Clash<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-18ec50a8><div class="curtain" data-v-18ec50a8></div><div class="content-body" data-v-18ec50a8><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-18ec50a8><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-18ec50a8 data-v-194ab74c><span id="main-nav-aria-label" class="visually-hidden" data-v-194ab74c>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="../clash.html" tabindex="0" data-v-194ab74c data-v-6368b65c data-v-7cccd89a><!--[-->Home<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="configuration-reference.html" tabindex="0" data-v-194ab74c data-v-6368b65c data-v-7cccd89a><!--[-->Configuration<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-194ab74c data-v-8b3e4ab7><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8b3e4ab7><span class="text" data-v-8b3e4ab7><!----> Download <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-8b3e4ab7><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-8b3e4ab7><div class="VPMenu" data-v-8b3e4ab7 data-v-f7de4c62><div class="items" data-v-f7de4c62><!--[--><!--[--><div class="VPMenuLink" data-v-f7de4c62 data-v-ea098942><a class="VPLink link" href="https://github.com/Dreamacro/clash/releases/" target="_blank" rel="noreferrer" data-v-ea098942 data-v-7cccd89a><!--[-->Open-source Edition<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-7cccd89a><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f7de4c62 data-v-ea098942><a class="VPLink link" href="https://github.com/Dreamacro/clash/releases/tag/premium" target="_blank" rel="noreferrer" data-v-ea098942 data-v-7cccd89a><!--[-->Premium Edition<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-7cccd89a><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-18ec50a8 data-v-bc62c185><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-bc62c185 data-v-ff5cf4c4 data-v-d63367fc><span class="check" data-v-d63367fc><span class="icon" data-v-d63367fc><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ff5cf4c4><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ff5cf4c4><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-18ec50a8 data-v-c797298a data-v-510ac518><!--[--><a class="VPSocialLink" href="https://github.com/Dreamacro/clash" aria-label="github" target="_blank" rel="noopener" data-v-510ac518 data-v-839fca93><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-18ec50a8 data-v-3dc1cb79 data-v-8b3e4ab7><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-8b3e4ab7><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-8b3e4ab7><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-8b3e4ab7><div class="VPMenu" data-v-8b3e4ab7 data-v-f7de4c62><!----><!--[--><!--[--><!----><div class="group" data-v-3dc1cb79><div class="item appearance" data-v-3dc1cb79><p class="label" data-v-3dc1cb79>Appearance</p><div class="appearance-action" data-v-3dc1cb79><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-3dc1cb79 data-v-ff5cf4c4 data-v-d63367fc><span class="check" data-v-d63367fc><span class="icon" data-v-d63367fc><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ff5cf4c4><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ff5cf4c4><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-3dc1cb79><div class="item social-links" data-v-3dc1cb79><div class="VPSocialLinks social-links-list" data-v-3dc1cb79 data-v-510ac518><!--[--><a class="VPSocialLink" href="https://github.com/Dreamacro/clash" aria-label="github" target="_blank" rel="noopener" data-v-510ac518 data-v-839fca93><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-18ec50a8 data-v-38f0d564><span class="container" data-v-38f0d564><span class="top" data-v-38f0d564></span><span class="middle" data-v-38f0d564></span><span class="bottom" data-v-38f0d564></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-1e6218f4 data-v-eb1502a2><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-eb1502a2><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-eb1502a2><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-eb1502a2>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-eb1502a2 data-v-7ab1a9c6><button data-v-7ab1a9c6>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-1e6218f4 data-v-7a214ffe><div class="curtain" data-v-7a214ffe></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-7a214ffe><span class="visually-hidden" id="sidebar-aria-label" data-v-7a214ffe> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-7a214ffe><section class="VPSidebarItem level-0 collapsible" data-v-7a214ffe data-v-32b251e7><div class="item" role="button" tabindex="0" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><h2 class="text" data-v-32b251e7>Introduction</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-32b251e7><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-32b251e7><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-32b251e7><!--[--><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="../clash.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>What is Clash?</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="../introduction/getting-started.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Getting Started</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="../introduction/service.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Clash as a Service</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="../introduction/faq.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Frequently Asked Questions</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-7a214ffe><section class="VPSidebarItem level-0 collapsible has-active" data-v-7a214ffe data-v-32b251e7><div class="item" role="button" tabindex="0" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><h2 class="text" data-v-32b251e7>Configuration</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-32b251e7><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-32b251e7><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-32b251e7><!--[--><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="introduction.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Introduction</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="getting-started.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Getting Started</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="inbound.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Inbound</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="outbound.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Outbound</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="rules.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Rules</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="dns.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Clash DNS</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="configuration-reference.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Configuration Reference</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-7a214ffe><section class="VPSidebarItem level-0 collapsible" data-v-7a214ffe data-v-32b251e7><div class="item" role="button" tabindex="0" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><h2 class="text" data-v-32b251e7>Premium</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-32b251e7><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-32b251e7><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-32b251e7><!--[--><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="../premium/introduction.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Introduction</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="../premium/tun-device.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Feature: TUN Device</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="../premium/ebpf.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Feature: eBPF Redirect to TUN</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="../premium/rule-providers.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Feature: Rule Providers</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="../premium/script.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Feature: Script</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="../premium/script-shortcuts.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Feature: Script Shortcuts</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="../premium/userspace-wireguard.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Feature: Userspace Wireguard</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="../premium/the-profiling-engine.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Feature: The Profiling Engine</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="../premium/experimental-features.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Experimental Features</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-7a214ffe><section class="VPSidebarItem level-0 collapsible" data-v-7a214ffe data-v-32b251e7><div class="item" role="button" tabindex="0" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><h2 class="text" data-v-32b251e7>Runtime</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-32b251e7><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-32b251e7><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-32b251e7><!--[--><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="../runtime/external-controller.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>The External Controller</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-7a214ffe><section class="VPSidebarItem level-0 collapsible" data-v-7a214ffe data-v-32b251e7><div class="item" role="button" tabindex="0" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><h2 class="text" data-v-32b251e7>Advanced Usages</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-32b251e7><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-32b251e7><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-32b251e7><!--[--><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="../advanced-usages/wireguard.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Rule-based Wireguard</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="../advanced-usages/openconnect.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Rule-based OpenConnect</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-32b251e7 data-v-32b251e7><div class="item" data-v-32b251e7><div class="indicator" data-v-32b251e7></div><a class="VPLink link link" href="../advanced-usages/golang-api.html" data-v-32b251e7 data-v-7cccd89a><!--[--><p class="text" data-v-32b251e7>Integrating Clash in Golang Programs</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-1e6218f4 data-v-046ca3f0><div class="VPDoc has-sidebar has-aside" data-v-046ca3f0 data-v-e80edd17><!--[--><!--]--><div class="container" data-v-e80edd17><div class="aside" data-v-e80edd17><div class="aside-curtain" data-v-e80edd17></div><div class="aside-container" data-v-e80edd17><div class="aside-content" data-v-e80edd17><div class="VPDocAside" data-v-e80edd17 data-v-90c98be7><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-90c98be7 data-v-48d8bf4c><div class="content" data-v-48d8bf4c><div class="outline-marker" data-v-48d8bf4c></div><div class="outline-title" data-v-48d8bf4c>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-48d8bf4c><span class="visually-hidden" id="doc-outline-aria-label" data-v-48d8bf4c> Table of Contents for current page </span><ul class="root" data-v-48d8bf4c data-v-7960563a><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-90c98be7></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e80edd17><div class="content-container" data-v-e80edd17><!--[--><!--]--><!----><main class="main" data-v-e80edd17><div style="position:relative;" class="vp-doc _clash_configuration_rules" data-v-e80edd17><div><h1 id="rules" tabindex="-1">Rules <a class="header-anchor" href="rules.html#rules" aria-label="Permalink to &quot;Rules&quot;">​</a></h1><p>In the Getting Started guide, we covered the basics of rule-based matching in Clash. In this chapter, we&#39;ll cover all available rule types in the latest version of Clash.</p><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">TYPE,ARGUMENT,POLICY(,no-resolve)</span></span></code></pre></div><p>The <code>no-resolve</code> option is optional, and it&#39;s used to skip DNS resolution for the rule. It&#39;s useful when you want to use <code>GEOIP</code>, <code>IP-CIDR</code>, <code>IP-CIDR6</code>, <code>SCRIPT</code> rules, but don&#39;t want to resolve the domain name to an IP address just yet.</p><nav class="table-of-contents"><ul><li><a href="rules.html#policy">Policy</a></li><li><a href="rules.html#types-of-rules">Types of rules</a><ul><li><a href="rules.html#domain">DOMAIN</a></li><li><a href="rules.html#domain-suffix">DOMAIN-SUFFIX</a></li><li><a href="rules.html#domain-keyword">DOMAIN-KEYWORD</a></li><li><a href="rules.html#geoip">GEOIP</a></li><li><a href="rules.html#ip-cidr">IP-CIDR</a></li><li><a href="rules.html#ip-cidr6">IP-CIDR6</a></li><li><a href="rules.html#src-ip-cidr">SRC-IP-CIDR</a></li><li><a href="rules.html#src-port">SRC-PORT</a></li><li><a href="rules.html#dst-port">DST-PORT</a></li><li><a href="rules.html#process-name">PROCESS-NAME</a></li><li><a href="rules.html#process-path">PROCESS-PATH</a></li><li><a href="rules.html#ipset">IPSET</a></li><li><a href="rules.html#rule-set">RULE-SET</a></li><li><a href="rules.html#script">SCRIPT</a></li><li><a href="rules.html#match">MATCH</a></li></ul></li></ul></nav><h2 id="policy" tabindex="-1">Policy <a class="header-anchor" href="rules.html#policy" aria-label="Permalink to &quot;Policy&quot;">​</a></h2><p>There are four types of POLICY for now, in which:</p><ul><li>DIRECT: directly connects to the target through <code>interface-name</code> (does not lookup system route table)</li><li>REJECT: drops the packet</li><li>Proxy: routes the packet to the specified proxy server</li><li>Proxy Group: routes the packet to the specified proxy group</li></ul><h2 id="types-of-rules" tabindex="-1">Types of rules <a class="header-anchor" href="rules.html#types-of-rules" aria-label="Permalink to &quot;Types of rules&quot;">​</a></h2><p>There are a number of rules where one might find useful. The following section covers each rule type and how they should be used.</p><h3 id="domain" tabindex="-1">DOMAIN <a class="header-anchor" href="rules.html#domain" aria-label="Permalink to &quot;DOMAIN&quot;">​</a></h3><p><code>DOMAIN,www.google.com,policy</code> routes only <code>www.google.com</code> to <code>policy</code>.</p><h3 id="domain-suffix" tabindex="-1">DOMAIN-SUFFIX <a class="header-anchor" href="rules.html#domain-suffix" aria-label="Permalink to &quot;DOMAIN-SUFFIX&quot;">​</a></h3><p><code>DOMAIN-SUFFIX,youtube.com,policy</code> routes any domain names that ends with <code>youtube.com</code>.</p><p>In this case, <code>www.youtube.com</code> and <code>foo.bar.youtube.com</code> will be routed to <code>policy</code>.</p><h3 id="domain-keyword" tabindex="-1">DOMAIN-KEYWORD <a class="header-anchor" href="rules.html#domain-keyword" aria-label="Permalink to &quot;DOMAIN-KEYWORD&quot;">​</a></h3><p><code>DOMAIN-KEYWORD,google,policy</code> routes any domain names to policy that contains <code>google</code>.</p><p>In this case, <code>www.google.com</code> or <code>googleapis.com</code> are routed to <code>policy</code>.</p><h3 id="geoip" tabindex="-1">GEOIP <a class="header-anchor" href="rules.html#geoip" aria-label="Permalink to &quot;GEOIP&quot;">​</a></h3><p>GEOIP rules are used to route packets based on the <strong>country code</strong> of the target IP address. Clash uses <a href="https://dev.maxmind.com/geoip/geoip2/geolite2/" target="_blank" rel="noreferrer">MaxMind GeoLite2</a> database for this feature.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>When encountering this rule, Clash will resolve the domain name to an IP address and then look up the country code of the IP address. If you want to skip the DNS resolution, use <code>no-resolve</code> option.</p></div><p><code>GEOIP,CN,policy</code> routes any packets destined to a China IP address to <code>policy</code>.</p><h3 id="ip-cidr" tabindex="-1">IP-CIDR <a class="header-anchor" href="rules.html#ip-cidr" aria-label="Permalink to &quot;IP-CIDR&quot;">​</a></h3><p>IP-CIDR rules are used to route packets based on the <strong>destination IPv4 address</strong> of the packet.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>When encountering this rule, Clash will resolve the domain name to an IP address. If you want to skip the DNS resolution, use <code>no-resolve</code> option.</p></div><p><code>IP-CIDR,127.0.0.0/8,DIRECT</code> routes any packets destined to <code>127.0.0.0/8</code> to the <code>DIRECT</code> outbound.</p><h3 id="ip-cidr6" tabindex="-1">IP-CIDR6 <a class="header-anchor" href="rules.html#ip-cidr6" aria-label="Permalink to &quot;IP-CIDR6&quot;">​</a></h3><p>IP-CIDR6 rules are used to route packets based on the <strong>destination IPv6 address</strong> of the packet.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>When encountering this rule, Clash will resolve the domain name to an IP address. If you want to skip the DNS resolution, use <code>no-resolve</code> option.</p></div><p><code>IP-CIDR6,2620:0:2d0:200::7/32,policy</code> routes any packets destined to <code>2620:0:2d0:200::7/32</code> to <code>policy</code>.</p><h3 id="src-ip-cidr" tabindex="-1">SRC-IP-CIDR <a class="header-anchor" href="rules.html#src-ip-cidr" aria-label="Permalink to &quot;SRC-IP-CIDR&quot;">​</a></h3><p>SRC-IP-CIDR rules are used to route packets based on the <strong>source IPv4 address</strong> of the packet.</p><p><code>SRC-IP-CIDR,192.168.1.201/32,DIRECT</code> routes any packets <strong>from</strong> <code>192.168.1.201/32</code> to the <code>DIRECT</code> policy.</p><h3 id="src-port" tabindex="-1">SRC-PORT <a class="header-anchor" href="rules.html#src-port" aria-label="Permalink to &quot;SRC-PORT&quot;">​</a></h3><p>SRC-PORT rules are used to route packets based on the <strong>source port</strong> of the packet.</p><p><code>SRC-PORT,80,policy</code> routes any packets <strong>from</strong> the port 80 to <code>policy</code>.</p><h3 id="dst-port" tabindex="-1">DST-PORT <a class="header-anchor" href="rules.html#dst-port" aria-label="Permalink to &quot;DST-PORT&quot;">​</a></h3><p>DST-PORT rules are used to route packets based on the <strong>destination port</strong> of the packet.</p><p><code>DST-PORT,80,policy</code> routes any packets <strong>to</strong> the port 80 to <code>policy</code>.</p><h3 id="process-name" tabindex="-1">PROCESS-NAME <a class="header-anchor" href="rules.html#process-name" aria-label="Permalink to &quot;PROCESS-NAME&quot;">​</a></h3><p>PROCESS-NAME rules are used to route packets based on the name of process that is sending the packet.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Currently, only macOS, Linux, FreeBSD and Windows are supported.</p></div><p><code>PROCESS-NAME,nc,DIRECT</code> routes all packets from the process <code>nc</code> to the <code>DIRECT</code> outbound.</p><h3 id="process-path" tabindex="-1">PROCESS-PATH <a class="header-anchor" href="rules.html#process-path" aria-label="Permalink to &quot;PROCESS-PATH&quot;">​</a></h3><p>PROCESS-PATH rules are used to route packets based on the PATH of process that is sending the packet.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Currently, only macOS, Linux, FreeBSD and Windows are supported.</p></div><p><code>PROCESS-PATH,/bin/sh,DIRECT</code> routes all packets from the process <code>/bin/sh</code> to the <code>DIRECT</code> outbound.</p><h3 id="ipset" tabindex="-1">IPSET <a class="header-anchor" href="rules.html#ipset" aria-label="Permalink to &quot;IPSET&quot;">​</a></h3><p>IPSET rules are used to match against an IP set and route packets based on the result. According to the <a href="https://ipset.netfilter.org/" target="_blank" rel="noreferrer">official website of IPSET</a>:</p><blockquote><p>IP sets are a framework inside the Linux kernel, which can be administered by the ipset utility. Depending on the type, an IP set may store IP addresses, networks, (TCP/UDP) port numbers, MAC addresses, interface names or combinations of them in a way, which ensures lightning speed when matching an entry against a set.</p></blockquote><p>Therefore, this feature only works on Linux and requires <code>ipset</code> to be installed.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>When encountering this rule, Clash will resolve the domain name to an IP address. If you want to skip the DNS resolution, use <code>no-resolve</code> option.</p></div><p><code>IPSET,chinaip,DIRECT</code> routes all packets with destination IPs matching the <code>chinaip</code> IPSET to DIRECT outbound.</p><h3 id="rule-set" tabindex="-1">RULE-SET <a class="header-anchor" href="rules.html#rule-set" aria-label="Permalink to &quot;RULE-SET&quot;">​</a></h3><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This feature is only available in the <a href="../premium/introduction.html">Premium</a> edtion.</p></div><p>RULE-SET rules are used to route packets based on the result of a <a href="../premium/rule-providers.html">rule provider</a>. When Clash encounters this rule, it loads the rules from the specified rule provider and then matches the packet against the rules. If the packet matches any of the rules, the packet will be routed to the specified policy, otherwise the rule is skipped.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>When encountering RULE-SET, Clash will resolve the domain name to an IP address <strong>when the ruleset is of type IPCIDR</strong>. If you want to skip the DNS resolution, use <code>no-resolve</code> option for the RULE-SET entry.</p></div><p><code>RULE-SET,my-rule-provider,DIRECT</code> loads all rules from <code>my-rule-provider</code> and sends the matched packets to the <code>DIRECT</code> outbound.</p><h3 id="script" tabindex="-1">SCRIPT <a class="header-anchor" href="rules.html#script" aria-label="Permalink to &quot;SCRIPT&quot;">​</a></h3><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This feature is only available in the <a href="../premium/introduction.html">Premium</a> edtion.</p></div><p>SCRIPT rules are special rules that are used to route packets based on the result of a <a href="../premium/script-shortcuts.html">script shortcut</a>. When Clash encounters this rule, it evaluates the expression. If it returns <code>true</code>, the packet will be routed to the specified policy, otherwise the rule is skipped.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>When encountering this rule, Clash will resolve the domain name to an IP address. If you want to skip the DNS resolution, use <code>no-resolve</code> option.</p></div><p><code>SCRIPT,SHORTCUT-NAME,policy</code> routes any packets to <code>policy</code> if they have the shortcut evaluated <code>true</code>.</p><h3 id="match" tabindex="-1">MATCH <a class="header-anchor" href="rules.html#match" aria-label="Permalink to &quot;MATCH&quot;">​</a></h3><p><code>MATCH,policy</code> routes the rest of the packets to <code>policy</code>. This rule is <strong>required</strong> and is usually used as the last rule.</p></div></div></main><footer class="VPDocFooter" data-v-e80edd17 data-v-37a2ad51><!--[--><!--]--><div class="edit-info" data-v-37a2ad51><div class="edit-link" data-v-37a2ad51><a class="VPLink link edit-link-button" href="https://github.com/Dreamacro/clash/edit/master/docs/configuration/rules.md" target="_blank" rel="noreferrer" data-v-37a2ad51 data-v-7cccd89a><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-37a2ad51><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Edit this page on GitHub<!--]--><!----></a></div><!----></div><div class="prev-next" data-v-37a2ad51><div class="pager" data-v-37a2ad51><a class="pager-link prev" href="outbound.html" data-v-37a2ad51><span class="desc" data-v-37a2ad51>Previous page</span><span class="title" data-v-37a2ad51>Outbound</span></a></div><div class="has-prev pager" data-v-37a2ad51><a class="pager-link next" href="dns.html" data-v-37a2ad51><span class="desc" data-v-37a2ad51>Next page</span><span class="title" data-v-37a2ad51>Clash DNS</span></a></div></div></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"advanced-usages_wireguard.md\":\"f05549d6\",\"advanced-usages_golang-api.md\":\"a99be0b8\",\"advanced-usages_openconnect.md\":\"090b42fe\",\"introduction_faq.md\":\"727803ac\",\"introduction_getting-started.md\":\"fa63cd38\",\"introduction_service.md\":\"109e3056\",\"premium_ebpf.md\":\"f80a8d1e\",\"premium_experimental-features.md\":\"7ec7a444\",\"premium_introduction.md\":\"c7bd18b4\",\"premium_rule-providers.md\":\"f3a14cc2\",\"premium_script-shortcuts.md\":\"2fe190d5\",\"premium_script.md\":\"3e7ab0b3\",\"premium_the-profiling-engine.md\":\"4c341995\",\"premium_tun-device.md\":\"f2b37f70\",\"premium_userspace-wireguard.md\":\"3887fa44\",\"configuration_introduction.md\":\"69e5cd99\",\"index.md\":\"6f118ec2\",\"configuration_dns.md\":\"378ebfcc\",\"configuration_inbound.md\":\"1a7e9977\",\"runtime_external-controller.md\":\"42e86470\",\"configuration_rules.md\":\"ac7f7db4\",\"introduction__dummy-index.md\":\"6d789db0\",\"configuration_configuration-reference.md\":\"46f22027\",\"configuration_getting-started.md\":\"291f80ea\",\"configuration_outbound.md\":\"c9289e83\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Clash\",\"description\":\"Rule-based Tunnel\",\"base\":\"/clash/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"outline\":\"deep\",\"search\":{\"provider\":\"local\"},\"editLink\":{\"pattern\":\"https://github.com/Dreamacro/clash/edit/master/docs/:path\",\"text\":\"Edit this page on GitHub\"},\"logo\":\"/logo.png\",\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Configuration\",\"link\":\"/configuration/configuration-reference\"},{\"text\":\"Download\",\"items\":[{\"text\":\"Open-source Edition\",\"link\":\"https://github.com/Dreamacro/clash/releases/\"},{\"text\":\"Premium Edition\",\"link\":\"https://github.com/Dreamacro/clash/releases/tag/premium\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Dreamacro/clash\"}],\"sidebar\":[{\"text\":\"Introduction\",\"collapsed\":false,\"items\":[{\"sidebarOrder\":1,\"text\":\"What is Clash?\",\"link\":\"/\"},{\"sidebarOrder\":2,\"text\":\"Getting Started\",\"link\":\"/introduction/getting-started.md\"},{\"sidebarOrder\":3,\"text\":\"Clash as a Service\",\"link\":\"/introduction/service.md\"},{\"sidebarOrder\":4,\"text\":\"Frequently Asked Questions\",\"link\":\"/introduction/faq.md\"}]},{\"text\":\"Configuration\",\"collapsed\":false,\"items\":[{\"sidebarOrder\":1,\"text\":\"Introduction\",\"link\":\"/configuration/introduction.md\"},{\"sidebarOrder\":2,\"text\":\"Getting Started\",\"link\":\"/configuration/getting-started.md\"},{\"sidebarOrder\":3,\"text\":\"Inbound\",\"link\":\"/configuration/inbound.md\"},{\"sidebarOrder\":4,\"text\":\"Outbound\",\"link\":\"/configuration/outbound.md\"},{\"sidebarOrder\":5,\"text\":\"Rules\",\"link\":\"/configuration/rules.md\"},{\"sidebarOrder\":6,\"text\":\"Clash DNS\",\"link\":\"/configuration/dns.md\"},{\"sidebarOrder\":7,\"text\":\"Configuration Reference\",\"link\":\"/configuration/configuration-reference.md\"}]},{\"text\":\"Premium\",\"collapsed\":false,\"items\":[{\"sidebarOrder\":1,\"text\":\"Introduction\",\"link\":\"/premium/introduction.md\"},{\"sidebarOrder\":2,\"text\":\"Feature: TUN Device\",\"link\":\"/premium/tun-device.md\"},{\"sidebarOrder\":3,\"text\":\"Feature: eBPF Redirect to TUN\",\"link\":\"/premium/ebpf.md\"},{\"sidebarOrder\":4,\"text\":\"Feature: Rule Providers\",\"link\":\"/premium/rule-providers.md\"},{\"sidebarOrder\":5,\"text\":\"Feature: Script\",\"link\":\"/premium/script.md\"},{\"sidebarOrder\":6,\"text\":\"Feature: Script Shortcuts\",\"link\":\"/premium/script-shortcuts.md\"},{\"sidebarOrder\":7,\"text\":\"Feature: Userspace Wireguard\",\"link\":\"/premium/userspace-wireguard.md\"},{\"sidebarOrder\":8,\"text\":\"Feature: The Profiling Engine\",\"link\":\"/premium/the-profiling-engine.md\"},{\"sidebarOrder\":9,\"text\":\"Experimental Features\",\"link\":\"/premium/experimental-features.md\"}]},{\"text\":\"Runtime\",\"collapsed\":false,\"items\":[{\"sidebarOrder\":1,\"text\":\"The External Controller\",\"link\":\"/runtime/external-controller.md\"}]},{\"text\":\"Advanced Usages\",\"collapsed\":false,\"items\":[{\"sidebarOrder\":1,\"text\":\"Rule-based Wireguard\",\"link\":\"/advanced-usages/wireguard.md\"},{\"sidebarOrder\":2,\"text\":\"Rule-based OpenConnect\",\"link\":\"/advanced-usages/openconnect.md\"},{\"sidebarOrder\":3,\"text\":\"Integrating Clash in Golang Programs\",\"link\":\"/advanced-usages/golang-api.md\"}]}]},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>